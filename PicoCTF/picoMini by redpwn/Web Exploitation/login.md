## Descripción
My dog-sitter's brother made this website but I can't get in; can you help?[login.mars.picoctf.net](https://login.mars.picoctf.net/)

## Pistas
- (None)

## Solución
- Para realizar este reto, la pagina nos manda al login de la pagina, para entrar intente usar diferentes ataques de SQL inyection pero ninguno funciono, por lo que opte inspeccionar la pagina.
- Ya estando en la inspección de la pagina, fui al apartado `Debugger`, donde encontre un archivo que me llamo la atención; `index.js`.
- El archivo contenia lo siguiente:

```javascript()
(async()=>{await new Promise((e=>window.addEventListener("load",e))),document.querySelector("form").addEventListener("submit",(e=>{e.preventDefault();const r={u:"input[name=username]",p:"input[name=password]"},t={};for(const e in r)t[e]=btoa(document.querySelector(r[e]).value).replace(/=/g,"");return"YWRtaW4"!==t.u?alert("Incorrect Username"):"cGljb0NURns1M3J2M3JfNTNydjNyXzUzcnYzcl81M3J2M3JfNTNydjNyfQ"!==t.p?alert("Incorrect Password"):void alert(`Correct Password! Your flag is ${atob(t.p)}.`)}))})();
```

- Este codigo es el que permite que la pagina de login funcione, ya que tiene todas las funcionalidades, pero lo que mas me llamo la atencion, es que esta ahi el usuario y la contraseña encriptados en base 64.

```javascript()
return"YWRtaW4"!==t.u?alert("Incorrect Username"):"cGljb0NURns1M3J2M3JfNTNydjNyXzUzcnYzcl81M3J2M3JfNTNydjNyfQ"!==t.p?alert("Incorrect Password")
```

- Por lo que, es siguiente paso es desencriptar esta infromación para poder obtener la flag.

```bash()
┌──(kali㉿kali)-[~]
└─$ echo "YWRtaW4" | base64 -d                                                                                
adminbase64: invalid input
                                                                                                                                                 
┌──(kali㉿kali)-[~]
└─$ echo "cGljb0NURns1M3J2M3JfNTNydjNyXzUzcnYzcl81M3J2M3JfNTNydjNyfQ" | base64 -d
picoCTF{53rv3r_53rv3r_53rv3r_53rv3r_53rv3r}base64: invalid input

```

- Como podemos ver, la contraseña es la flag. 

```bash()
picoCTF{53rv3r_53rv3r_53rv3r_53rv3r_53rv3r}
```

## Notas adicionales
- El codigo donde se encuentra la flag esta porgramado en javaScript.


## Referencias 
